# 工厂模式

深刻理解产品族和产品等级结构之间的关系



产品族就是比如一个公司有好多的产品线。

产品等级结构关系 就比如不同的产品可以有不同的厂家来制作



# 单例模式



1、思考破坏单例模式的方式有哪些？并且归纳总结。

​    破坏单例的方式主要有反射和序列化

2、梳理内部类的执行逻辑，并画出时序图。

   



## 内部类基础

　成员内部类

　成员内部类可以无条件地访问外部类的成员，而外部类想访问成员内部类的成员却不是这么随心所欲了。在外部类中如果要访问成员内部类的成员，必须先创建一个成员内部类的对象，再通过指向这个对象的引用来访问：





　静态内部类

　　静态内部类也是定义在另一个类里面的类，只不过在类的前面多了一个关键字static。静态内部类是不需要依赖于外部类的，这点和类的静态成员属性有点类似，并且它不能使用外部类的非static成员变量或者方法，这点很好理解，因为在没有外部类的对象的情况下，可以创建静态内部类的对象，如果允许访问外部类的非static成员就会产生矛盾，因为外部类的非static成员必须依附于具体的对象。



内部类的执行逻辑

外部类加载时并不需要立即加载内部类，只有当getInstance()方法第一次被调用时，才会去初始化INSTANCE,第一次调用getInstance()方法会导致虚拟机加载SingleTonHoler类，这种方法不仅能确保线程安全，也能保证单例的唯一性，同时也延迟了单例的实例化。

